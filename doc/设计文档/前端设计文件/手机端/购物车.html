<!DOCTYPE html>
<html lang="en" class="cart-body">
<head>
	<meta charset="UTF-8">
	<title>购物车</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<link rel="stylesheet" href="Font-Awesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="dist/css/swiper.min.css">
	<link rel="stylesheet" href="layer-mobile/layer/need/layer.css">
	<link rel="stylesheet" href="css/base.css">
	<link rel="stylesheet" href="css/index.css">
	<script src="js/jquery-1.12.2.min.js"></script>
	<script src="js/jquery.lazyload.min.js"></script>
	<script src="dist/js/swiper.min.js"></script>
	<script src="dist/js/swiper.jquery.min.js"></script>
	<script src="layer-mobile/layer/layer.js"></script>
	<script src="js/base.js"></script>
</head>	
<body>
	
<header class="cart">
	<span class="icon-angle-left text-center"></span>
	<h3 class="text-center">购物车</h3>
	<a href="javascript:;" id="compile">编辑</a>
</header>

<div class="container container-cart">
	<div class="cart-lists">
		<div class="cart-shopping">
			<div class="shopping-head">
				<div class="clearfix">
					<div>
						<input type="checkbox">一路发五金店
					</div>
					<div>
						<span class="icon-phone-sign"></span> <span>0755-85421484</span> 
					</div>
				</div>
				<div class="clearfix">
					<div>
						<span>深圳市龙华新区展滔科技大厦1201</span>
					</div>
					<div>
						<span class="icon-map-marker"></span>10km
					</div>
				</div>
			</div>
	
			<ul class="shopping-lists">
				<li class="clearfix">
					<div class="item1">
						<input type="checkbox">
						<img src="images/shoudong.png" alt="">
					</div>
					<div class="item2">
						<h3>维修级尖嘴大力钳@TAJIMA/田岛田岛田岛田岛田岛</h3>
						<dl>
							<dt><span class=" icon-angle-right"></span>规格：5.5MM</dt>
							<dd>材质：合金钢</dd>
							<dd>长度：127mm</dd>
							<dd>开口钳宽度：15mm</dd>
							<dd>棘轮钳头宽度：17mm</dd>
							<dd>开口钳厚度：5mm</dd>
							<dd>棘轮钳头厚度：6.5mm</dd>
						</dl>
						<div>
							<span class="text-red">￥<b style="font-size:1.5em;">5.8</b></span>
							<div class="pull-right">x<span style="line-height:2em" class="num">1</span></div>
						</div>
					</div>
					<a href="javascript:;" class="remove">删除</a>
				</li>
			</ul>
			<ul class="shopping-lists">
				<li class="clearfix">
					<div class="item1">
						<input type="checkbox">
						<img src="images/shoudong.png" alt="">
					</div>
					<div class="item2">
						<h3>维修级尖嘴大力钳@TAJIMA/田岛田岛田岛田岛田岛</h3>
						<dl>
							<dt><span class=" icon-angle-right"></span>规格：5.5MM</dt>
							<dd>材质：合金钢</dd>
							<dd>长度：127mm</dd>
							<dd>开口钳宽度：15mm</dd>
							<dd>棘轮钳头宽度：17mm</dd>
							<dd>开口钳厚度：5mm</dd>
							<dd>棘轮钳头厚度：6.5mm</dd>
						</dl>
						<div>
							<span class="text-red">￥<b style="font-size:1.5em;">5.8</b></span>
							<div class="pull-right">x<span style="line-height:2em" class="num">4</span></div>
						</div>
					</div>
					<a href="javascript:;" class="remove">删除</a>
				</li>
			</ul>
		</div>
		<div class="cart-shopping">
			<div class="shopping-head">
				<div class="clearfix">
					<div>
						<input type="checkbox">一路发五金店
					</div>
					<div>
						<span class="icon-phone-sign"></span> <span>0755-85421484</span> 
					</div>
				</div>
				<div class="clearfix">
					<div>
						<span>深圳市龙华新区展滔科技大厦1201</span>
					</div>
					<div>
						<span class="icon-map-marker"></span>10km
					</div>
				</div>
			</div>
			<ul class="shopping-lists">
				<li class="clearfix">
					<div class="item1">
						<input type="checkbox">
						<img src="images/shoudong.png" alt="">
					</div>
					<div class="item2">
						<h3>维修级尖嘴大力钳@TAJIMA/田岛田岛田岛田岛田岛</h3>
						<dl>
							<dt><span class=" icon-angle-right"></span>规格：5.5MM</dt>
							<dd>材质：合金钢</dd>
							<dd>长度：127mm</dd>
							<dd>开口钳宽度：15mm</dd>
							<dd>棘轮钳头宽度：17mm</dd>
							<dd>开口钳厚度：5mm</dd>
							<dd>棘轮钳头厚度：6.5mm</dd>
						</dl>
						<div>
							<span class="text-red">￥<b style="font-size:1.5em;">5.8</b></span>
							<div class="pull-right">x<span style="line-height:2em" class="num">1</span></div>
						</div>
					</div>
					<a href="javascript:;" class="remove">删除</a>
				</li>
			</ul>
		</div>
		
	</div>
</div>

<footer class="cart-footer">
	<ul class="clearfix">
		<li>
			<label for="checkbox_all">
				<input type="checkbox" id="checkbox_all">全选
			</label>
		</li>
		<li>合计:<span style="color:#f40;">4000</span>个</li>
		<li><span style="color:#f40;">360.00</span>元</li>
		<li>
			<a href="javascript:;">去结算</a>
		</li>
	</ul>
</footer>

  		
</body>

</html>

 <script>
 	$(function() {

 		var itemHtml = [];
 		// var itemText = [];
 		for(var i=0 ;i<$('.item2').length;i++){
 			itemHtml.push($('.item2').eq(i).html());
 		}
 		// 
 		$(document).delegate('dl dt','click',function(){
 			$(this).siblings('dd').slideToggle(100);
 		})


 		$(document).delegate('#compile','click',function(){
 			itemText=[];
 			for(var i=0 ;i<$('.item2 .num').length;i++){
 				itemText.push($('.item2 .num').eq(i).text());
 			}
 			$(this).attr('id','finish').text('完成');
 			$('.remove').addClass('active');
 			var div = $('<div class="number">'+
					'<a href="javascript:;" class="min">-</a>'+
					'<input type="text" value="'+4+'">'+
					'<a href="javascript:;" class="add">+</a>'+
				'</div>')

 			$('.item2').html(div)
 		})

 		$(document).delegate('#finish','click',function(){
 			$(this).attr('id','compile').text('编辑');
 			$('.shopping-lists .remove').attr('class','remove');
 			for(var i=0;i<$('.item2').length;i++){
 				$('.item2').eq(i).html(itemHtml[i]);
 			}
 			for(var i=0;i<$('.item2 .num').length;i++){
 				$('.item2 .num').eq(i).html(itemText[i]);
 			}
 		})
 		$(document).delegate('.remove','click',function(){
 			_this=$(this);
 			layer.open({
 				 title: '提示',
 				 content:'您确定要删除此订单吗？？',
 				 btn:['确定','取消'],
 				 yes:function(){
 				 	_this.parents('.shopping-lists').remove();
 				 	layer.close();
 				 	layer.open({
    					content: '已经成功删除',
    					time: 1 //2秒后自动关闭
					});
 				 },
 				 no: function(){
        			 layer.close();
    			}
 			});
 			
 		})
 	});

 </script>
